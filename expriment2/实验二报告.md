## 一、 基本信息

| **实验项目名称** | **Android 界面布局实验** |
| ---------- | ------------------ |
| **学生姓名**   | 肖朝闻                |
| **学号**     | 121052023118       |
| **班级**     | 软工4班               |
| **专业**     | 软件工程               |
| **实验日期**   | 2025年10月30日        |

## 二、 实验目的

掌握 Android 界面布局相关功能，具体包括：

1. **理解与应用**：学习官方文档中关于 `ConstraintLayout`、`LinearLayout` 和 `TableLayout` 的相关内容。

2. **线性布局**：掌握使用 `LinearLayout` 及其嵌套结构、`android:orientation` 和 `android:layout_weight` 属性实现复杂的线性排列界面。

3. **表格布局**：掌握使用 `TableLayout` 和 `TableRow` 实现表格化界面的方法，并处理列的拉伸和收缩。

4. **约束布局**：掌握使用 `ConstraintLayout` 定义视图间的相对约束关系，利用 `Guideline` 和 `Chain` 等实现复杂、响应式的布局（如计算器界面和航天票务界面）。

## 二、 实验环境与工具

| **操作系统** | **Windows 11** |
| -------- | -------------- |
| 开发工具     | Android Studio |
| 编程语言     | Java / XML     |

## 三、 实验步骤与流程

本实验围绕三种主要的 Android 布局管理器展开，所有实现均在 XML 布局文件中完成。

### 3.1 实验一：线性布局 (`LinearLayout`) 实现

1. **结构分析：** 分析目标界面（Page 3）的文本排列规律。该界面是一个垂直排列的主结构，但内部行存在水平分割。

2. **根布局设置：** 设置主布局为垂直方向的 `LinearLayout` (`android:orientation="vertical"`)。

3. **嵌套实现：**
   
   - 对于 **"One, One"** 和 **"One, Two"** 等占据整行的文本，直接使用 `TextView` 放在垂直布局中。
   
   - 对于 **"One, Three || One, Four"** 等水平分割的行，使用嵌套的水平 `LinearLayout` (`android:orientation="horizontal"`)，并在内部的 `TextView` 上设置 `android:layout_weight="1"`，实现等宽分布。
   
   - 通过嵌套和权重属性，完成所有四行文本的布局实现。

### 3.2 实验二：表格布局 (`TableLayout`) 实现

1. **结构分析：** 分析目标界面（Page 4）的文件菜单样式，确定其为两列结构。

2. **布局设置：** 根布局设置为 `TableLayout`。

3. **列宽处理：**
   
   - 使用 `android:stretchColumns="0"` 或 `android:stretchColumns="*"`，让第一列（菜单项名称）自动拉伸以适应内容或剩余空间。

4. **行内容定义：**
   
   - 使用 `TableRow` 定义每一行，例如 "Open..." 和 "Ctrl-O"。
   
   - 在 `TableRow` 内部放置两个 `TextView`，分别对应菜单项名称和快捷键，并利用 `android:layout_gravity="right"` 确保快捷键在第二列右对齐。

### 3.3 实验三：约束布局 (`ConstraintLayout`) 实现

#### 3.3.1 约束布局 1：计算器界面

1. **显示区域：** 将输入/显示 `TextView` 约束到父布局的顶部、左侧和右侧 (`app:layout_constraintTop_toTopOf="parent"`)，实现全宽显示。

2. **网格划分：** 利用 **`Guideline`** 辅助线，通过百分比 (`app:layout_constraintGuide_percent`) 将布局水平分割为四等份，作为四列按钮的边界。

3. **按钮约束：**
   
   - 所有按钮的宽度设置为 `0dp` (`match_constraint`)。
   
   - 通过将按钮的 `layout_constraintStart_to` 和 `layout_constraintEnd_to` 属性约束到对应的 `Guideline` 或 `parent`，实现四列按钮的精确对齐和均匀分布。
   
   - 通过垂直约束 (`app:layout_constraintTop_toBottomOf`) 将每一行按钮连接到上一行，形成垂直链。

#### 3.3.2 约束布局 2：航天票务界面

1. **顶部导航栏：** 使用 `LinearLayout` 或水平 `Chain` 结合 `TextView`/`ImageView` 来实现 Space Stations、Flights、Rovers 三个标签的均匀分布。

2. **主要模块布局：**
   
   - **DCA-MARS 模块：** 使用 `ConstraintLayout` 居中约束两个矩形 `TextView` (DCA, MARS)，并将双向箭头 `ImageView` 约束到两者之间，实现水平居中对齐。
   
   - **中央图案：** 将火箭图标 和星系图案 约束到中央区域，确保其在屏幕底部上方保持相对位置。

3. **底部按钮：** 将 "DEPART" 按钮约束到父布局底部 (`app:layout_constraintBottom_toBottomOf="parent"`)，实现固定底部的全宽按钮。

## 四、 实验结果与分析

### 4.1 运行截图

    4.1.1 实验一

![](C:\Users\Lenovo\AppData\Roaming\marktext\images\2025-11-17-21-13-52-image.png)

    4.1.2 实验二

![](C:\Users\Lenovo\AppData\Roaming\marktext\images\2025-11-17-21-14-19-image.png)

4.1.3 实验三

![](C:\Users\Lenovo\AppData\Roaming\marktext\images\2025-11-17-21-14-52-image.png)



    4.1.4 实验四



![](C:\Users\Lenovo\AppData\Roaming\marktext\images\2025-11-17-21-15-26-image.png)

### 4.2 结果分析

| **布局类型**             | **核心优势**                     | **遇到的挑战**                              | **解决方案**                                                                  |
| -------------------- | ---------------------------- | -------------------------------------- | ------------------------------------------------------------------------- |
| **LinearLayout**     | 结构简单，适用于单向（垂直或水平）排列。         | 复杂界面需要多层嵌套，导致布局层次加深，性能下降。              | 尽量使用 `android:layout_weight` 属性替代嵌套，简化结构。                                 |
| **TableLayout**      | 适用于表格化数据或设置界面，具有天然的行列对齐能力。   | 无法直接实现复杂的非均匀对齐，若非表格数据，代码可读性不如其他布局。     | 通过 `android:stretchColumns` 确保表格在不同设备上能拉伸或压缩，保证完整性。                       |
| **ConstraintLayout** | 扁平化结构，性能优越，通过约束实现复杂对齐和响应式设计。 | 约束关系定义复杂，若约束不完整或有冲突（如循环约束），可能导致视图定位错误。 | 充分利用 **`Guideline`** 进行定位，使用 **`Chain`** 实现组内元素的打包和分配（例如计算器的按钮网格），简化对齐过程。 |

## 五、 总结与心得体会

（请学生填写：总结通过本次实验掌握了哪些核心技能，例如：）

- 通过本次实验，我系统地学习了 Android 中最常用的三种布局：线性布局、表格布局和约束布局。

- 掌握了在不同的布局需求下选择合适的布局方式：简单列表或单排组件选择 `LinearLayout`；纯粹的表格数据选择 `TableLayout`；所有需要复杂对齐和扁平化结构的复杂界面都应优先选择 `ConstraintLayout`。

- 深入理解了 `ConstraintLayout` 的核心概念，如使用 **`Guideline`** 实现百分比定位，以及使用 **`Chain`** 实现一组组件的分布和对齐。

- 认识到 `ConstraintLayout` 通过减少视图嵌套，极大地提高了布局的渲染性能和可维护性，是现代 Android 开发中的首选布局。
